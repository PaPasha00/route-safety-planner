# Route Safety App

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–∞—Ä—Ç –∏ –ò–ò.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
route-safety-app/
‚îú‚îÄ‚îÄ be/                     # Backend (TypeScript + Express)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/    # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ helpers/        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/         # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Express
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ fe/                     # Frontend (React + TypeScript + Vite)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Map/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RouteInfo/  # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RouteAnalyzer/ # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ helpers/        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îî‚îÄ‚îÄ README.md
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∏—Å–æ–≤–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–ª–∏–Ω—ã –º–∞—Ä—à—Ä—É—Ç–∞ –∏ –ø–µ—Ä–µ–ø–∞–¥–æ–≤ –≤—ã—Å–æ—Ç
- üåç –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤—ã—Å–æ—Ç–∞—Ö —á–µ—Ä–µ–∑ OpenTopoData API
- ü§ñ –ê–Ω–∞–ª–∏–∑ –º–∞—Ä—à—Ä—É—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ò–ò (OpenRouter)
- üìà –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É
- üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend

- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Express.js** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç
- **CORS** - –¥–ª—è –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **dotenv** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Frontend

- **React 19** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Vite** - —Å–±–æ—Ä—â–∏–∫ –∏ dev —Å–µ—Ä–≤–µ—Ä
- **Leaflet** - –∫–∞—Ä—Ç—ã
- **SCSS** - —Å—Ç–∏–ª–∏ —Å –º–æ–¥—É–ª—è–º–∏
- **React Leaflet** - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Leaflet

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- npm –∏–ª–∏ yarn

### Backend

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –±—ç–∫–µ–Ω–¥–∞:

```bash
cd be
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `be/`:

```env
OPENROUTER_API_KEY=your_openrouter_api_key_here
PORT=3001
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
npm run dev
```

–ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—é:

```bash
npm run build
npm start
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3001`

### Frontend

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

```bash
cd fe
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:

```bash
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5173`

## API Endpoints

### GET /health

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

### POST /api/elevation

–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤—ã—Å–æ—Ç–∞—Ö –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "coordinates": [
    [55.75, 37.62],
    [55.76, 37.63]
  ]
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "results": [
    {
      "elevation": 150,
      "location": {
        "lat": 55.75,
        "lng": 37.62
      }
    }
  ],
  "status": "OK"
}
```

### POST /api/analyze-route

–ê–Ω–∞–ª–∏–∑ –º–∞—Ä—à—Ä—É—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ò–ò

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "lengthKm": 10.5,
  "elevationGain": 500,
  "coordinates": [
    [55.75, 37.62],
    [55.76, 37.63]
  ],
  "elevationData": [150, 200, 300],
  "lengthMeters": 10500
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "analysis": "–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–∞—Ä—à—Ä—É—Ç–∞...",
  "stats": {
    "avgSlope": 5.2,
    "maxSlope": 15.8,
    "steepSections": 3,
    "sinuosity": 1.2,
    "minElevation": 150,
    "maxElevation": 650,
    "elevationProfile": "–•–æ–ª–º–∏—Å—Ç—ã–π"
  },
  "terrainType": "—Ö–æ–ª–º–∏—Å—Ç–∞—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å",
  "geographicContext": {
    "countries": ["–†–æ—Å—Å–∏—è"],
    "regions": ["–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"],
    "areas": ["–†–∞–º–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"],
    "localities": ["–ú–æ—Å–∫–≤–∞"],
    "multiRegion": false,
    "multiCountry": false,
    "totalPointsAnalyzed": 3
  },
  "formattedGeoContext": "–°—Ç—Ä–∞–Ω–∞: –†–æ—Å—Å–∏—è. –†–µ–≥–∏–æ–Ω: –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å..."
}
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend (.env)

- `OPENROUTER_API_KEY` - API –∫–ª—é—á –¥–ª—è OpenRouter (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3001)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

**Backend:**

- `controllers/` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `services/` - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `helpers/` - —É—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `routes/` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `types/` - TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

**Frontend:**

- `components/` - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
- `helpers/` - —É—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `types/` - TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –°—Ç–∏–ª–∏

–í—Å–µ —Å—Ç–∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ SCSS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CSS –º–æ–¥—É–ª–µ–π –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∏–ª–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

### –¢–∏–ø–∏–∑–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ –∏ –ª—É—á—à–µ–≥–æ DX.

## –õ–∏—Ü–µ–Ω–∑–∏—è

ISC
